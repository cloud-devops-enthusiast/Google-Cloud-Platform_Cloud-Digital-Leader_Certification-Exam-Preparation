**Google Cloud Compute Services**

**App Engine**

App Engine is a fully managed, serverless platform to deploy and Scale your applications in GCP. It is a Platform as a Service (PaaS) offering. It comes with a whole end to end application management. App Engine supports many languages like Java, Python, PHP, Node.js, Ruby, Go, .Net with pre-configured runtimes and frameworks. It also supports custom runtimes and can write your code in any language. Using App Engine also allows you to connect to variety of Google Cloud Storage services like Cloud SQL, Cloud Datastore, Cloud Storage, Cloud Endpoints, Cloud Pub/Sub, Cloud Logging, Cloud Monitoring, Cloud Trace, Cloud Debugger, Cloud Console, Cloud Shell, Cloud SDK, Cloud IAM, Cloud Deployment Manager, Cloud Security Scanner, Cloud Mobile App, Cloud VPN, Cloud DNS, Cloud CDN, Cloud Interconnect, Cloud Router, Cloud Load Balancing, Cloud CDN, Cloud DNS, Cloud CDN and many more.

There are no usage charges for it and you only pay for the resources you use. It is highly scalable and also handles load balancing while keeping health checks and monitoring in place. These platforms are managed by the Google team and you don’t have to worry about the underlying infrastructure. You can also have your applications versioned and can roll back to previous versions if needed. It also supports traffic splitting and canary deployments. 

**Compute Engine vs App Engine**

- Compute Engine
  - Infrastructure as a Service (IaaS)
  - It is more flexible as you have more things in control.
  - You also have to manage the underlying infrastructure.
    - Choosing Image
    - Installing the Software
    - It also allows you to choose the hardware configuration.
    - You have fine grained access or permissions to the underlying infrastructure.
    - It lets you to have the certificates and firewalls in place.

- App Engine
  - Platform as a Service (PaaS)
  - It is a serverless platform and you don’t have to worry about the underlying infrastructure.
  - So as it comes with the lesser amount of responsibility
  - It is more restrictive as you don’t have much control over the underlying infrastructure, which makes it less flexible.

**App Engine Environments**

*Standard Environment:* This is a kind of a sandbox environment where you can only use the pre-configured runtimes and frameworks which means you can only run specific languages.

- V1: It is the first generation of App Engine and if you have application running with older versions of Java, Python, PHP, Go, Node.js, Ruby, .Net, you can use this environment.
- V2: It is the second generation of App Engine and it supports newer versions of Java, Python, PHP, Go, Node.js, Ruby, .Net. It also supports custom runtimes and you can write your code in any language.
- If you have an application in app engine you will not have access to the OS and Disk. You can't edit the configurations of the OS and Disk. 
- App Engine also supports the scaling down to zero instances if there is not traffic to your application. It also supports auto scaling and can scale up to 1000 instances. It also supports traffic splitting and canary deployments. This also helps in saving the overall cost of the application.

*Flexible Environments:* This is an environment where the instances run within the Docker Containers on the Google's Infrastructure.

- Flexible Environment makes the use of Compute Engine instances and you have more control over the underlying infrastructure.
- Flexible Environment supports any of the runtime with the built in support for Java, Python, PHP, Go, Node.js, Ruby, .Net.
- Flexible Environment cannot scale down to zero instances, it will always have at least one instance running.

**Create App Engine Application**

- Go to the App Engine and click on the Create Application.
- First, you have to enable the App Engine API.
- You need to choose the region where you want to deploy your application.
![App Engine Deployment 01](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/f3d473bf3399c34e1f7b0a96129227168d256a38/Images/Screenshot%202023-10-21%20232521.png)
- Choose the Language and the Environment from the drop down.
![App Engine Deployment 02](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/f3d473bf3399c34e1f7b0a96129227168d256a38/Images/Screenshot%202023-10-21%20232715.png)
- Click on I will do it later to skip the Cloud Build.
![App Engine Deployment 03](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/f3d473bf3399c34e1f7b0a96129227168d256a38/Images/Screenshot%202023-10-21%20232848.png)
- Upload the necessary files and change the directory also in the editor.
![App Engine Deployment 04](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/74852b699adac7f74f24651fc47586e1bd774a05/Images/Screenshot%202023-10-21%20233817.png)
- In app.yaml file, you have to specify the runtime and the environment or the configuration settings.
- In the main.py file, Here we are using Flask framework to create a simple web application.
- In the requirements.txt file, you have to specify the dependencies of the application.
- You can check for all currently available Cloud SDK properties associated with your current workspace or global configuration by running the following command:
```
gcloud config list
```
![App Engine Deployment 05](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/0df44d19b16d31bd1c70629f393570ba247fc00d/Images/Screenshot%202023-10-21%20234439.png)
- We will set the project ID to the current project.
```
gcloud config set project <project-id>
```
![App Engine Deployment 06](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/5e1be438f700d28ab92c13736fd58b84febcd931/Images/Screenshot%202023-10-21%20235129.png)
- We will deploy the application using the following command:
```
gcloud app deploy
```
![App Engine Deployment 07](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/8e5c3b953792ac3611fc5fc7099a27f1149e075b/Images/Screenshot%202023-10-21%20235440.png)
![App Engine Deployment 08](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/8e5c3b953792ac3611fc5fc7099a27f1149e075b/Images/Screenshot%202023-10-21%20235549.png)
- You can also check for the deployed application in the App Engine using the default URL.
![App Engine Deployment 09](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/996224d9f1cea1ed734b3238b1f3103a66fbe093/Images/Screenshot%202023-10-22%20000348.png)
- You can also check the deployment and metrics in the App Engine Dashboard.
![App Engine Deployment 10](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/4895cd3dd278d4c28e952e4d396e8c26fccd999d/Images/Screenshot%202023-10-22%20000809.png)
- You can check the instances in the deployment.
![App Engine Deployment 11](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/1e1f4f790a821e7cd375d780d956da826877f594/Images/Screenshot%202023-10-22%20001023.png)
- For checking out the running services in the App Engine, you can use the following command:
```
gcloud app services list
```
![App Engine Deployment 12](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/2273446bfd83942a1021ad92f72abc8a8ef8b64c/Images/Screenshot%202023-10-22%20001250.png)
- For checking out the versions of the services in the App Engine, you can use the following command:
```
gcloud app versions list
```
![App Engine Deployment 13](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/22b6417b31c80239b26ccb7efd292787f8c2390c/Images/Screenshot%202023-10-22%20001439.png)
- For checking out the instances of the services in the App Engine, you can use the following command:
```
gcloud app instances list
```
![App Engine Deployment 14](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/7ccaff8f13fdc13e2787764f23ba685576c1a0c0/Images/Screenshot%202023-10-22%20001600.png)
- Do the changes in the main.py and deploy the application again.
```
from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello():
    return 'My Default Service - V2'
```
Here we changes to V2 in the main.py file.
- For deploying a new version of the application, you can use the following command:
```
gcloud app deploy --version <version-name>
```
![App Engine Deployment 15](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/b1e483366d3bac8fa6d9071092bfcb26b8e94f73/Images/Screenshot%202023-10-22%20002055.png)
- For the new version, you can check the deployment at the following URL:
```
https://<version-name>-dot-<project-id>.uc.r.appspot.com/
```
![App Engine Deployment 16](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/27bdda6ca96ceb22c8dd3b828d63db3ff24533c0/Images/Screenshot%202023-10-22%20002350.png)
- After the sucessful deployment, it will look like this.
![App Engine Deployment 17](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/04b0611ca0f4b3772a0f0fc09de671e8ea4a3b1b/Images/Screenshot%202023-10-22%20002528.png)
- You can also check the versions in the App Engine Dashboard.
![App Engine Deployment 18](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/78d6d9e043c07e9edf76a3c7a9f6786fda0b39b7/Images/Screenshot%202023-10-22%20002941.png)
- You can check for the versions in the App Engine using the following command:
```
gcloud app versions list
```
![App Engine Deployment 19](https://github.com/cloud-devops-enthusiast/Google-Cloud-Platform_Cloud-Digital-Leader_Certification-Exam-Preparation/blob/2df2f65c5f579ebedf494d0fd918828d61c161f7/Images/Screenshot%202023-10-22%20003207.png)

*Service Categories with their Scenarios*

<table>
<tr>
<th>Scenario</th>
<th>Solution</th>
</tr>
<tr>
<td>Deploy Custom application in Virtual Machine</td>
<td>IaaS</td>
</tr>
<tr>
<td>Using Gmail</td>
<td>SaaS</td>
</tr>
<tr>
<td>Using App Engine to Deploy your application</td>
<td>PaaS</td>
</tr>
<tr>
<td>Customer is responsible for OS updates</td>
<td>IaaS</td>
</tr>
<tr>
<td>Customer is responsible for Auto Scaling</td>
<td>IaaS/PaaS</td>
</tr>
<td>Customer is responsible for Application Deployment</td>
<td>IaaS/PaaS</td>
</tr>
<tr>
<td>In which environment Customer has access to the VM Instance</td>
<td>IaaS</td>
</tr>
<tr>
<td>In which environment Customer has access to the OS</td>
<td>IaaS</td>
</tr>
<tr>
<td>In which environment Customer has access to the Disk</td>
<td>IaaS</td>
</tr>
</table>